{{range .}}
<div class="card mb-2">
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-start">
            <div class="flex-grow-1">
                <div class="ip-code">{{.IP}}</div>
                {{$loc := formatLocation .Info}}
                {{if $loc}}<div class="ip-details">{{$loc}}</div>{{end}}
                {{if and .Info .Info.Org}}<div class="ip-org">{{.Info.Org}}</div>{{end}}
            </div>
            <div class="text-end">
                <button class="btn btn-danger btn-sm"
                        hx-post="/deny"
                        hx-vals='{"ip": "{{.IP}}"}'
                        hx-confirm="Deny {{.IP}}?"
                        hx-swap="none">Deny</button>
                <div class="timestamp">{{formatExpiry .ExpiresAt}}</div>
            </div>
        </div>
    </div>
</div>
{{else}}
<div class="empty-state">No allowed connections</div>
{{end}}
